<section class="my-2 p-3">
	@if (isLoading) {
	<div
		class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 justify-center my-3"
	>
		@for (i of [1,2,3,4,5,6,7,8]; track $index) {
		<div
			class="relative flex flex-col text-gray-700 bg-white shadow-md bg-clip-border rounded-xl w-full animate-pulse"
		>
			<div
				class="relative grid h-56 mx-4 mt-4 overflow-hidden text-gray-700 bg-gray-300 bg-clip-border rounded-xl place-items-center"
			>
				<i class="fa-regular fa-image fa-3x"></i>
			</div>
			<div class="p-6">
				<div
					class="block w-full h-3 mb-4 font-sans text-5xl antialiased font-semibold leading-tight tracking-normal bg-gray-300 rounded-full text-inherit"
				>
					&nbsp;
				</div>
				<div
					class="block w-full h-2 mb-2 font-sans text-base antialiased font-light leading-relaxed bg-gray-300 rounded-full text-inherit"
				>
					&nbsp;
				</div>
				<div
					class="block w-full h-2 mb-2 font-sans text-base antialiased font-light leading-relaxed bg-gray-300 rounded-full text-inherit"
				>
					&nbsp;
				</div>
				<div
					class="block w-full h-2 mb-2 font-sans text-base antialiased font-light leading-relaxed bg-gray-300 rounded-full text-inherit"
				>
					&nbsp;
				</div>
				<div
					class="block w-full h-2 mb-2 font-sans text-base antialiased font-light leading-relaxed bg-gray-300 rounded-full text-inherit"
				>
					&nbsp;
				</div>
			</div>
			<div class="p-6 pt-0">
				<button
					disabled=""
					tabindex="-1"
					class="w-full align-middle select-none font-sans font-bold text-center uppercase transition-all disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none text-xs py-3 px-6 rounded-lg text-white shadow-gray-900/10 hover:shadow-gray-900/20 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none h-8 bg-gray-300 shadow-none hover:shadow-none"
					type="button"
				>
					&nbsp;
				</button>
			</div>
		</div>
		}
	</div>

	} @else {
	<h2 class="mb-4 text-3xl">Suggested For You</h2>
	<div
		class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 justify-center"
	>
		@for (item of Products(); track item._id) {

		<div
			class="cursor-pointer relative grid bg-white shadow border border-slate-200 rounded-lg w-full"
		>
			<div [routerLink]="['/product', item._id]">
				<div
					class="relative p-2.5 h-32 sm:h-40 md:h-80 overflow-hidden rounded bg-clip-border"
				>
					<img
						[src]="item.imageCover"
						[alt]="item.title"
						[title]="item.title"
						class="size-full object-cover object-center rounded"
					/>
				</div>
				<div
					class="absolute flex justify-center items-center size-12 shadow hover:shadow-lg transition-all duration-300 mt-2 me-2 top-0 right-0 bg-gray-100 rounded-md"
				>
					<i
						class="fa-solid fa-heart fa-xl text-gray-400 hover:text-red-600 transition-all duration-300"
					></i>
				</div>
				<div class="p-4">
					<div class="mb-2 flex items-center justify-between">
						<p class="text-slate-800 text-xl font-semibold">
							{{ item.title.split(" ", 3).join(" ") }}
						</p>
						<p class="text-blue-600 text-xl font-semibold">
							E{{ item.price | currency : "GBP" }}
						</p>
					</div>
					<p
						class="text-slate-600 hidden md:block leading-normal font-light"
					>
						{{ item.description.split(" ", 12).join(" ") }}
					</p>
				</div>
			</div>

			<div class="p-3 self-end">
				<div class="rounded p-3 lg:overflow-visible">
					<div
						class="flex items-center gap-2 font-bold text-blue-gray-500"
					>
						<div class="flex items-center">
							@for (i of [1,2,3,4,5].slice(0,item.ratingsAverage);
							track $index) {
							<span>
								<i
									class="fa-solid fa-star w-6 h-6 text-yellow-300 cursor-pointer"
								></i> </span
							>} @for (i of
							[1,2,3,4,5].slice(item.ratingsAverage,5); track
							$index) {
							<span>
								<i
									class="fa-regular fa-star text-gray-500 w-6 h-6 cursor-pointer"
								></i>
							</span>
							}
						</div>
						<span class="text-gray-500">
							{{ item.ratingsAverage }}
						</span>
					</div>
					<p
						class="block font-sans text-gray-500 text-xs antialiased font-medium leading-relaxed text-blue-gray-500"
					>
						Based on {{ item.ratingsQuantity }} Reviews
					</p>
				</div>
				<button
					class="flex justify-center items-center gap-2 rounded-md w-full mt-6 bg-blue-600 py-2 px-4 border border-transparent text-center text-sm text-white transition-all shadow-md hover:shadow-lg focus:bg-blue-700 focus:shadow-none active:bg-blue-700 hover:bg-blue-700 active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
					type="button"
				>
					Add to Cart <i class="fa-solid fa-cart-plus"></i>
				</button>
			</div>
		</div>

		}
	</div>
	<div class="w-full mx-auto mt-5">
		<nav aria-label="Page navigation example" class="flex justify-center">
			<ul class="flex items-center -space-x-px h-10 text-base">
				<li>
					<a
						class="flex items-center justify-center px-4 h-10 ms-0 leading-tight text-gray-500 bg-white border border-e-0 border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"
					>
						<span class="sr-only">Previous</span>
						<svg
							class="w-3 h-3 rtl:rotate-180"
							aria-hidden="true"
							xmlns="http://www.w3.org/2000/svg"
							fill="none"
							viewBox="0 0 6 10"
						>
							<path
								stroke="currentColor"
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								d="M5 1 1 5l4 4"
							/>
						</svg>
					</a>
				</li>
				<li>
					<a
						class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"
						>1</a
					>
				</li>
				<li>
					<a
						class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"
						>2</a
					>
				</li>
				<li>
					<a
						aria-current="page"
						class="z-10 flex items-center justify-center px-4 h-10 leading-tight text-blue-600 border border-blue-300 bg-blue-50 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white"
						>3</a
					>
				</li>
				<li>
					<a
						class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"
						>4</a
					>
				</li>
				<li>
					<a
						class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"
						>5</a
					>
				</li>
				<li>
					<a
						class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"
					>
						<span class="sr-only">Next</span>
						<svg
							class="w-3 h-3 rtl:rotate-180"
							aria-hidden="true"
							xmlns="http://www.w3.org/2000/svg"
							fill="none"
							viewBox="0 0 6 10"
						>
							<path
								stroke="currentColor"
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								d="m1 9 4-4-4-4"
							/>
						</svg>
					</a>
				</li>
			</ul>
		</nav>
	</div>
	}
</section>
